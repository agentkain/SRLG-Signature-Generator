<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Saddle Rock Legal Email Signature Generator</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #243f40;
            margin: 0;
            padding: 20px;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background-color: #fff;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
            border: 2px solid #b29649;
        }
        .logo-container {
            text-align: center;
            margin-bottom: 20px;
        }
        .logo-container svg {
            max-width: 300px;
            height: auto;
        }
        h1 {
            color: #b29649;
            text-align: center;
            margin-bottom: 30px;
        }
        #signature-form {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px 20px;
            margin-bottom: 30px;
        }
        .form-group {
            margin-bottom: 0;
        }
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #555;
        }
        input[type="text"],
        input[type="email"],
        input[type="tel"] {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 16px;
            transition: border-color 0.3s ease;
            box-sizing: border-box;
        }
        input[type="text"]:focus,
        input[type="email"]:focus,
        input[type="tel"]:focus {
            border-color: #b29649;
            outline: none;
        }
        button {
            background-color: #243f40;
            color: white;
            border: none;
            padding: 12px 20px;
            font-size: 16px;
            cursor: pointer;
            border-radius: 4px;
            transition: background-color 0.3s ease;
            margin-top: 20px;
        }
        button:hover {
            background-color: #b29649;
        }
        #signature-output {
            margin-top: 30px;
            margin-bottom: 30px;
            border: 1px solid #ddd;
            padding: 20px;
            border-radius: 4px;
            background-color: #fff;
        }
        .optional-field {
            color: #888;
            font-style: italic;
            font-size: 0.9em;
        }
        .required {
            color: #e74c3c;
            margin-left: 3px;
        }
        input:required {
            border-left: 3px solid #e74c3c;
        }
        input:required:valid {
            border-left: 3px solid #2ecc71;
        }

        /* For mobile devices */
        @media (max-width: 600px) {
            #signature-form {
                grid-template-columns: 1fr; /* Single column on small screens */
            }
            .contact-info {
                font-size: 9pt; /* Slightly smaller font */
            }
            .contact-info div {
                padding-left: 0 !important; /* Remove left padding on mobile */
                white-space: nowrap; /* Keep icon and text together */
                overflow: hidden;
                text-overflow: ellipsis; /* Add ellipsis if text overflows */
            }
            .contact-info a {
                word-break: break-all; /* Allow breaking within email address */
            }
            .signature-table {
                width: 100% !important;
            }
            .logo img {
                width: 150px !important; /* Smaller logo */
                height: auto !important;
            }
            .logo-cell, .content-cell {
                display: block !important;
                width: 100% !important;
            }
            .content-cell {
                padding-top: 10px !important;
            }
        }
    </style>
</head>
<body>
    <div class="logo-container">
        <svg xmlns="http://www.w3.org/2000/svg" id="Layer_2" viewBox="0 0 1373.99 929.94"><defs><style>.cls-1{fill:#b29649;}.cls-2{fill:#fff;}</style></defs><g id="Layer_1-2"><path class="cls-2" d="M5.89,809.48c-3.66-4.24-4.44-12.92-4.05-19.09l1.35-19.86h4.82c2.51,28.15,17.16,40.88,35.29,40.88,16,0,28.54-9.06,28.54-27.19,0-13.5-9.83-22.17-28.15-26.8-20.44-5.01-40.11-13.11-40.11-40.49,0-23.33,18.51-38.37,46.66-38.37,11.96,0,22.37,1.93,30.08,5.79,4.43,5.21,4.43,15.23,4.43,18.7l-.39,17.16h-5.01c-1.93-18.51-10.61-35.87-30.27-35.87-16,0-25.07,12.53-24.87,26.42,0,14.65,9.64,21.79,26.03,26.22,26.8,7.13,40.88,17.55,40.88,39.72,0,25.26-19.28,41.07-49.36,41.07-14.65,0-30.85-4.63-35.87-8.29Z"/><path class="cls-2" d="M95.74,811.41c12.34-1.54,18.13-7.52,24.49-21.98,15.62-34.71,48.59-109.52,48.59-109.52l6.17-1.35c9.26,27,26.8,72.12,39.53,105.86,7.52,19.48,11.18,25.26,24.1,27v3.86c-9.45-.39-18.9-.58-29.69-.58-12.73,0-22.95.19-31.82.58v-3.86c15.43-1.16,20.63-5.59,15.81-20.44-3.08-10.03-5.78-18.7-8.68-26.8h-43.19c-.39.96-5.79,13.88-8.68,21.98-6.94,19.48-.39,24.68,16.78,25.26v3.86c-6.94-.19-15.43-.58-26.61-.58-10.22,0-19.86.19-26.8.58v-3.86ZM181.94,757.8c-4.24-12.73-13.11-36.64-17.74-49.36l-20.83,49.36h38.57Z"/><path class="cls-2" d="M245.18,811.41c17.93-.77,21.02-7.71,21.02-28.15v-70.38c0-20.44-2.51-27.19-21.02-27.96v-3.86h55.92c13.3,0,27.19,1.54,39.14,5.78,23.91,8.48,41.84,27,41.84,61.13,0,29.89-13.5,48.59-32.78,58.23-12.15,6.17-27,9.06-43.19,9.06h-60.93v-3.86ZM357.41,749.12c0-27.19-8.29-45.7-24.49-54.96-10.6-5.98-23.91-8.1-44.54-8.1-.19,5.59-.39,18.32-.39,27.77v70.19c0,20.25,4.63,26.03,23.33,25.84,27.77-.39,46.08-24.1,46.08-60.74Z"/><path class="cls-2" d="M393.66,811.41c17.93-.77,21.02-7.71,21.02-28.15v-70.38c0-20.44-2.51-27.19-21.02-27.96v-3.86h55.92c13.3,0,27.19,1.54,39.14,5.78,23.91,8.48,41.84,27,41.84,61.13,0,29.89-13.5,48.59-32.78,58.23-12.15,6.17-27,9.06-43.19,9.06h-60.93v-3.86ZM505.88,749.12c0-27.19-8.29-45.7-24.49-54.96-10.6-5.98-23.91-8.1-44.54-8.1-.19,5.59-.39,18.32-.39,27.77v70.19c0,20.25,4.63,26.03,23.33,25.84,27.77-.39,46.08-24.1,46.08-60.74Z"/><path class="cls-2" d="M542.14,811.41c18.9-1.16,21.02-8.29,21.02-28.73v-69.03c0-22.95-3.09-27.57-21.02-28.73v-3.86c12.92.39,19.67.58,32.2.58s22.56-.19,31.62-.58v3.86c-15.43,1.35-21.02,5.59-21.02,28.73v70.57c0,20.83,4.63,23.52,24.1,23.52s30.47-8.87,36.06-31.62h4.05l-1.54,21.98c-.77,10.61-3.28,14.27-6.75,17.16-18.51-.39-25.84-.58-43.77-.58-21.79,0-35.09-.19-54.96.58v-3.86Z"/><path class="cls-2" d="M656.87,811.41c17.93-.77,21.02-7.71,21.02-28.15v-70.38c0-20.44-2.51-27.19-21.02-27.96v-3.86c12.73.39,30.66.77,50.33.58,16.97-.19,29.12-.39,47.24-1.16,2.31,3.28,2.51,11.38,2.31,18.7,0,.96-.58,15.81-.58,15.81h-4.05c-4.63-21.98-9.45-27.38-51.87-27.38-.19,2.51-.58,12.73-.58,18.32v36.83h8.87c27.57,0,29.89-3.08,32.97-16h3.47v40.88h-3.86c-2.12-15.23-5.4-18.51-32.59-18.51h-8.87v35.09c0,19.67,3.66,23.52,23.33,23.52,25.07,0,33.17-10.61,38.37-30.66h4.24c-.19,1.74-1.35,20.05-1.54,21.4-.77,9.64-2.31,13.88-6.36,16.78-18.32-.39-27-.58-44.54-.58-21.6,0-35.87-.19-56.31.58v-3.86Z"/><path class="cls-2" d="M816.14,811.41c18.7-.96,21.02-8.48,21.02-28.92v-69.61c0-19.67-2.12-27-21.02-27.96v-3.86h51.87c29.89,0,54.38,8.87,53.41,37.02-.39,13.11-9.83,24.1-24.87,29.7,4.63,10.03,10.03,21.02,18.32,33.55,13.69,21.02,26.61,28.92,38.95,30.08v3.86c-4.05.77-7.91,1.16-12.92,1.16-16.2,0-25.07-4.24-33.74-12.34-6.36-5.98-11.76-13.69-17.55-24.1-5.78-9.83-9.83-18.13-13.5-26.22-5.4,0-12.15-.19-17.16-.77v29.89c0,21.02,4.05,27.77,20.44,28.54v3.86c-11.57-.39-18.32-.58-31.24-.58-12.15,0-19.48.19-32.01.58v-3.86ZM898.09,717.89c0-19.28-10.41-31.82-38.56-31.82-.19,7.33-.58,13.3-.58,22.17v40.69c23.91.19,39.14-8.48,39.14-31.04Z"/><path class="cls-2" d="M950.74,747.97c0-41.84,27-69.42,67.49-69.42s67.87,27.77,67.87,69.42-27.19,69.8-67.87,69.8-67.49-27.96-67.49-69.8ZM1060.26,747.97c0-39.53-15.43-63.63-42.04-63.63s-41.65,24.1-41.65,63.63,15.23,63.83,41.65,63.83,42.04-24.3,42.04-63.83Z"/><path class="cls-2" d="M1103.07,748.54c0-47.24,31.04-70,70.19-70,12.15,0,27.57,1.74,40.69,8.48,4.44,5.59,4.44,14.46,4.24,21.98l-.58,15.62h-4.44c-2.89-22.95-16.39-40.3-39.92-40.3-28.73,0-44.35,24.3-44.35,62.48,0,40.11,14.08,64.98,45.51,64.98,21.79,0,36.25-13.11,41.26-35.67h4.43l-.77,12.53c-.58,8.68-2.89,17.55-5.98,21.6-10.03,4.44-24.3,7.52-39.72,7.52-41.84,0-70.57-22.95-70.57-69.22Z"/><path class="cls-2" d="M1321.54,804.85c-5.98-5.59-12.73-14.46-20.05-27-7.13-12.53-11.76-21.6-16.2-31.24l-13.5,13.31v23.52c0,21.4,4.63,27.19,20.25,27.96v3.86c-10.8-.39-18.32-.58-31.04-.58-11.76,0-19.86.19-32.01.58v-3.86c17.93-.77,21.02-7.52,21.02-28.15v-70.19c0-20.25-2.12-27.38-21.02-28.15v-3.86c12.53.39,19.86.58,31.82.58s18.51-.19,30.85-.58v3.86c-16.39.96-19.86,7.91-19.86,28.15v39.72c9.83-10.41,38.37-41.07,50.52-55.53,6.56-7.71,1.54-11.38-7.52-12.34v-3.86c8.29.39,16.39.39,23.72.39s13.88-.19,21.4-.39v3.86c-11.76.77-20.25,7.71-29.12,16-11.18,10.99-28.35,28.35-29.7,29.89,5.21,11.38,12.15,24.3,21.4,39.34,20.63,33.74,32.2,40.3,47.24,41.26v3.86c-4.82.77-8.48,1.16-13.5,1.16-17.55,0-27-4.43-34.71-11.57Z"/><path class="cls-1" d="M668.92.29c-182.45,7.3-329.6,156.37-334.5,338.9-.66,24.43,1.22,48.35,5.38,71.43l-.07-.16s13.36,114.24,92.7,174.6c5.55,4.39,11.7,8.56,18.54,12.35.26.15.5.3.76.45l-.06-.07c20.41,11.17,46.85,18.95,81.68,18.95,104.88,0,132.18-71.21,132.18-115.66,0-83.85-120.88-163.04-153.02-190.37-32.62-27.74-34.1-40.04-34.1-61.51,0-35.56,38.41-56.66,38.41-56.66v102.51l38.79,29.45s0-135.55,0-135.55c14.76,0,33.47,6.86,40.83,20.35,5.94,10.89,8.58,24.3,10.89,36.4h7.18v-75.07h-96.98c-5.75,0-72.92,22.99-72.92,89.8,0,53.34,71.12,101.29,71.12,101.29v125c0,8.98-12.93,16.52-12.93,16.52h-29.45v12.93h121.77v-13.65h-25.5c-12.93-7.18-13.29-16.81-13.29-16.81v-99.51c42.99,32.41,70.4,82.55,70.4,117.03s-32.69,86.56-91.69,90.87c-50.3,3.67-98.29-19.47-127.78-60.17-29.5-40.71-48.28-88.84-55.23-138.6-2.15-15.39-3.2-30.93-3.2-46.47,0-184.34,149.97-334.32,334.32-334.32s334.32,149.97,334.32,334.32c0,69.01-15.25,138.52-58.64,193.56-15.93,20.2-44.93,34.09-70.16,31.71-75.35-7.12-120.52-89.3-135.77-118.17-38.5-72.88-92.6-114.43-110.08-118.52,46.51-11.09,85.91-51.26,91.78-98.71,5.88-47.45-25.31-98.05-71.54-110.24-15.86-4.18-32.48-4.09-48.88-3.96-46.81.35-93.56.71-140.37,1.06-.19,0-.34.14-.34.33.04,4.37,0,10.73,0,14.32,4.32,0,25.21,0,25.62,0,.89-.02,1.74.22,2.5.69,7.03,4.36,12.23,11.49,13.27,19.77l39.08.06c.07-3.48.12-6.96.2-10.44.11-4.55-.03-4.6,4.55-4.71,11.26-.27,78.84-1.65,90.44,1.99,14.86,4.67,23.61,14.36,29.27,28.18,16.92,41.31,17.33,100.02-23.82,127.63-23.78,15.95-54.62,15.17-83.22,13.8l-.08,14.71c131.95,72.44,179.2,237.44,270.93,267.81,119.66,39.62,175.78-133.08,182.16-167.46,5.11-27.51,7.67-55.46,7.67-83.4C1032.02,151.77,867.74-7.67,668.92.29Z"/><path class="cls-2" d="M407.79,870.24h9.44v50h29.81v8.3h-39.25v-58.31Z"/><path class="cls-2" d="M455.87,870.24h37.41v8.22h-28.06v16h21.24v7.95h-21.24v17.92h30.16v8.22h-39.51v-58.31Z"/><path class="cls-2" d="M532.62,898.38h20.98v23.69c-2.68,2.45-6.02,4.37-10.01,5.77-3.99,1.4-8.2,2.1-12.63,2.1-6,0-11.29-1.28-15.87-3.85-4.58-2.56-8.14-6.12-10.71-10.66-2.56-4.55-3.85-9.82-3.85-15.82s1.28-11.31,3.85-15.91c2.56-4.6,6.08-8.23,10.53-10.88,4.46-2.65,9.57-3.98,15.34-3.98,4.72,0,9.03.95,12.94,2.84,3.9,1.89,7.2,4.65,9.88,8.26l-6.38,5.86c-1.92-2.8-4.27-4.91-7.04-6.34-2.77-1.43-5.84-2.14-9.22-2.14-3.9,0-7.37.93-10.4,2.8-3.03,1.87-5.41,4.47-7.12,7.82-1.72,3.35-2.58,7.21-2.58,11.58s.87,8.2,2.62,11.5c1.75,3.29,4.2,5.86,7.34,7.69,3.15,1.84,6.82,2.75,11.01,2.75,5.01,0,9.47-1.22,13.37-3.67v-11.54h-12.06v-7.87Z"/><path class="cls-2" d="M598.79,912.81h-23.69l-5.68,15.73h-9.79l22.64-58.31h9.88l22.55,58.31h-10.23l-5.68-15.73ZM586.99,880.03l-9.18,25.26h18.27l-9.09-25.26Z"/><path class="cls-2" d="M622.22,870.24h9.44v50h29.81v8.3h-39.25v-58.31Z"/><path class="cls-2" d="M715.58,898.38h20.98v23.69c-2.68,2.45-6.02,4.37-10.01,5.77-3.99,1.4-8.2,2.1-12.63,2.1-6,0-11.29-1.28-15.87-3.85-4.58-2.56-8.14-6.12-10.71-10.66-2.56-4.55-3.85-9.82-3.85-15.82s1.28-11.31,3.85-15.91c2.56-4.6,6.08-8.23,10.53-10.88,4.46-2.65,9.57-3.98,15.34-3.98,4.72,0,9.03.95,12.94,2.84,3.9,1.89,7.2,4.65,9.88,8.26l-6.38,5.86c-1.92-2.8-4.27-4.91-7.04-6.34-2.77-1.43-5.84-2.14-9.22-2.14-3.9,0-7.37.93-10.4,2.8-3.03,1.87-5.41,4.47-7.12,7.82-1.72,3.35-2.58,7.21-2.58,11.58s.87,8.2,2.62,11.5c1.75,3.29,4.2,5.86,7.34,7.69,3.15,1.84,6.82,2.75,11.01,2.75,5.01,0,9.47-1.22,13.37-3.67v-11.54h-12.06v-7.87Z"/><path class="cls-2" d="M748.88,870.24h19.84c6.35,0,11.32,1.56,14.9,4.68,3.58,3.12,5.38,7.39,5.38,12.81,0,3.91-.95,7.24-2.84,10.01-1.89,2.77-4.5,4.79-7.82,6.08l13.46,24.74h-10.4l-12.06-23.17h-11.28v23.17h-9.18v-58.31ZM779.57,887.89c0-3.15-.98-5.58-2.93-7.3-1.95-1.72-4.65-2.58-8.09-2.58h-10.49v19.58h10.49c3.5,0,6.21-.86,8.13-2.58,1.92-1.72,2.88-4.09,2.88-7.12Z"/><path class="cls-2" d="M797.05,899.34c0-4.31.76-8.32,2.27-12.02,1.51-3.7,3.63-6.93,6.34-9.7,2.71-2.77,5.89-4.92,9.53-6.47,3.64-1.54,7.56-2.32,11.76-2.32s8.2.77,11.85,2.32c3.64,1.54,6.83,3.72,9.57,6.51,2.74,2.8,4.87,6.05,6.38,9.75,1.51,3.7,2.27,7.71,2.27,12.02s-.76,8.23-2.27,11.93c-1.52,3.7-3.63,6.95-6.34,9.75-2.71,2.8-5.89,4.97-9.53,6.51-3.64,1.54-7.59,2.32-11.85,2.32s-8.2-.77-11.84-2.32c-3.64-1.54-6.82-3.71-9.53-6.51-2.71-2.8-4.82-6.05-6.34-9.75-1.52-3.7-2.27-7.71-2.27-12.02ZM806.93,899.34c0,4.25.87,8.04,2.62,11.36,1.75,3.32,4.14,5.94,7.17,7.87,3.03,1.92,6.47,2.88,10.31,2.88s7.36-.96,10.36-2.88c3-1.92,5.38-4.55,7.12-7.87,1.75-3.32,2.62-7.08,2.62-11.28s-.87-8.04-2.62-11.36c-1.75-3.32-4.12-5.94-7.12-7.87-3-1.92-6.46-2.88-10.36-2.88s-7.29.96-10.31,2.88c-3.03,1.92-5.42,4.53-7.17,7.82-1.75,3.29-2.62,7.07-2.62,11.32Z"/><path class="cls-2" d="M866.72,906.08v-35.84h9.44v35.75c0,10.26,4.75,15.39,14.25,15.39s14.34-5.13,14.34-15.39v-35.75h9.44v35.84c0,7.58-2.08,13.45-6.25,17.61s-10.01,6.25-17.53,6.25-13.27-2.08-17.44-6.25c-4.17-4.17-6.25-10.04-6.25-17.61Z"/><path class="cls-2" d="M926.25,870.24h19.58c6.35,0,11.32,1.59,14.9,4.76,3.58,3.18,5.38,7.56,5.38,13.16s-1.76,9.92-5.29,13.16c-3.53,3.23-8.41,4.85-14.64,4.85h-10.66v22.38h-9.27v-58.31ZM956.67,888.24c0-3.15-.98-5.62-2.93-7.43-1.95-1.81-4.65-2.71-8.09-2.71h-10.14v20.11h10.14c3.5,0,6.21-.87,8.13-2.62,1.92-1.75,2.88-4.2,2.88-7.34Z"/><path class="cls-1" d="M1368.85,907.94h-329.24c-2.84,0-5.14-2.3-5.14-5.14s2.3-5.14,5.14-5.14h329.24c2.84,0,5.14,2.3,5.14,5.14s-2.3,5.14-5.14,5.14Z"/><path class="cls-1" d="M334.38,907.94H5.14c-2.84,0-5.14-2.3-5.14-5.14s2.3-5.14,5.14-5.14h329.24c2.84,0,5.14,2.3,5.14,5.14s-2.3,5.14-5.14,5.14Z"/></g></svg>
    </div>
    <div class="container">
        <h1>Email Signature Generator</h1>
        <!-- Add buttons for mode selection -->
        <div>
            <button onclick="switchMode('regular')">Regular</button>
            <button onclick="switchMode('intake')">Intake</button>
        </div>
        <form id="signature-form">
            <div class="form-group">
                <label for="name">Name: <span class="required">*</span></label>
                <input type="text" id="name" required>
            </div>
            <div class="form-group">
                <label for="email">Email: <span class="required">*</span></label>
                <input type="email" id="email" required>
            </div>
            <div class="form-group">
                <label for="title">Title: <span class="optional-field">(optional)</span></label>
                <input type="text" id="title">
            </div>
            <div class="form-group">
                <label for="pronouns">Pronouns: <span class="optional-field">(optional)</span></label>
                <input type="text" id="pronouns">
            </div>
            <div class="form-group">
                <label for="phone">Phone: <span class="optional-field">(optional)</span></label>
                <input type="tel" id="phone">
            </div>
            <div class="form-group">
                <label for="extension">Extension: <span class="optional-field">(optional)</span></label>
                <input type="text" id="extension">
            </div>
            <div class="form-group">
                <label for="mobile">Mobile: <span class="optional-field">(optional)</span></label>
                <input type="tel" id="mobile">
            </div>
        </form>
        <button onclick="generateSignature()">Generate Signature</button>
        <div id="signature-output"></div>
        <button onclick="copySignature()">Copy Signature</button>
    </div>

    <script>
        function generateSignature() {
            const name = document.getElementById('name').value.trim();
            const email = document.getElementById('email').value.trim();
            const pronouns = document.getElementById('pronouns').value.trim();
            const title = document.getElementById('title').value.trim();
            const phone = document.getElementById('phone').value.trim();
            const extension = document.getElementById('extension').value.trim();
            const mobile = document.getElementById('mobile').value.trim();

            // Check if name and email are provided
            if (!name || !email) {
                alert("Please enter both name and email address. These fields are required.");
                return; // Exit the function if validation fails
            }
            // Define the current mode
            let currentMode = 'regular';

            // Function to switch between regular and intake modes
            function switchMode(mode) {
                currentMode = mode;
                document.getElementById('regularMode').classList.toggle('active', mode === 'regular');
                document.getElementById('intakeMode').classList.toggle('active', mode === 'intake');
                
                const regularFields = document.querySelectorAll('.form-group');
                regularFields.forEach(field => {
                    field.style.display = mode === 'regular' ? 'block' : 'none';
                });

                // Show only name and email fields in intake mode
                document.getElementById('name').parentElement.style.display = 'block';
                document.getElementById('email').parentElement.style.display = 'block';

                if (mode === 'intake') {
                    document.getElementById('email').value = 'intake@saddlerocklegal.com';
                    document.getElementById('title').value = 'Intake Specialist';
                    document.getElementById('phone').value = '(888) 686-6454';
                    document.getElementById('title').parentElement.style.display = 'none';
                    document.getElementById('phone').parentElement.style.display = 'none';
                    document.getElementById('extension').parentElement.style.display = 'none';
                    document.getElementById('mobile').parentElement.style.display = 'none';
                } else {
                    document.getElementById('email').value = '';
                    document.getElementById('title').value = '';
                    document.getElementById('phone').value = '';
                    document.getElementById('extension').value = '';
                    document.getElementById('mobile').value = '';
                }
            }

            // Helper function to format phone numbers
            function formatPhoneNumber(phoneNumberString) {
                const cleaned = ('' + phoneNumberString).replace(/\D/g, '');
                const match = cleaned.match(/^(\d{3})(\d{3})(\d{4})$/);
                if (match) {
                    return '(' + match[1] + ') ' + match[2] + '-' + match[3];
                }
                return phoneNumberString;
            }

            const formattedPhone = formatPhoneNumber(phone);
            const formattedMobile = formatPhoneNumber(mobile);

            // Determine if all elements are present (regardless of pronouns and extension)
            const allElementsPresent = title && phone && mobile && email;
            
            // New condition: Name, Title, Either phone or mobile, email
            const mostElementsPresent = title && (phone || mobile) && email;

            // Determine the padding based on the conditions
            let tablePadding;
            if (allElementsPresent) {
                tablePadding = '0'; // All elements present
            } else if (mostElementsPresent) {
                tablePadding = '5px'; // New condition: Name, Title, Either phone or mobile, email and website
            } else if (!title && (phone || mobile) && email) {
                tablePadding = '10px'; // Just phone (either type), email, and website, no title
            } else if (!title && !phone && !mobile) {
                tablePadding = '20px'; // Just name, email, and website
            } else {
                tablePadding = '10px'; // Other cases
            }

            // Determine padding for mobile, email, and website
            let phonePadding = '0px';
            let mobilePadding = '0px';
            let emailPadding, websitePadding;

            if (allElementsPresent) {
                phonePadding = '5px';
                mobilePadding = '10px';
                emailPadding = '15px';
                websitePadding = '20px';
            } else if (!title && phone && mobile) {
                mobilePadding = '5px';
                emailPadding = '10px';
                websitePadding = '15px';
            } else if (title && (phone || mobile)) {
                phonePadding = '5px';
                mobilePadding = '5px';
                emailPadding = '10px';
                websitePadding = '15px';
            } else if (!title && !phone && !mobile) {
                emailPadding = '1px';
                websitePadding = '5px';
            } else {
                emailPadding = '5px';
                websitePadding = '10px';
            }

            const signatureTemplate = `
            <table border="0" cellspacing="0" cellpadding="0" width="100%" style="max-width: 500px;" class="signature-table">
              <tr>
                <td style="padding: 0;">
                  <table border="0" cellspacing="0" cellpadding="0" width="100%">
                    <tr>
                      <td width="${allElementsPresent ? '190' : '180'}" class="logo-cell" valign="top" style="padding-right: 0;">
                        <div style="display: flex; align-items: flex-start;">
                          <a href="https://www.saddlerocklegal.com/" target="_blank">
                            <img src="https://i.imgur.com/zZGyoQQ.png" width="${allElementsPresent ? '190' : '180'}" style="width:${allElementsPresent ? '190px' : '180px'}; ${allElementsPresent ? 'height:110px;' : 'max-width:100%; height:auto;'} border:none;" alt="Saddle Rock Legal Logo" id="logo-img" />
                          </a>
                        </div>
                      </td>
                      <td class="content-cell" valign="top" style="padding-left: 0;">
                        <table border="0" cellspacing="0" cellpadding="0" width="100%" id="content-table" style="padding-top: ${tablePadding};">
                          <tr>
                            <td style="font-family:Arial, sans-serif; font-size:12pt; font-weight:bold; padding-bottom:1px; line-height:1.2;">
                              ${name}${pronouns ? ` <span style="font-weight:normal; font-size:10pt;">(${pronouns})</span>` : ''}
                            </td>
                          </tr>
                          ${title ? `<tr><td style="font-family:Arial, sans-serif; font-size:10pt; font-style:italic; padding-bottom:3px; line-height:1.2;">${title}</td></tr>` : ''}
                          <tr>
                            <td class="contact-info" style="font-family:Arial, sans-serif; font-size:10pt; line-height:1.3;">
                              ${phone ? `<div style="padding-left:${phonePadding};"><img src="https://i.imgur.com/FlCMsqL.png" width="11" height="11" style="vertical-align:middle; margin-right:5px;" alt="Phone" />${formattedPhone}${extension ? ' EXT. ' + extension : ''}</div>` : ''}
                              ${mobile ? `<div style="padding-left:${mobilePadding};"><img src="https://i.imgur.com/fmRyFcr.png" width="9" height="11" style="vertical-align:middle; margin-right:5px;" alt="Mobile" />${formattedMobile}</div>` : ''}
                              <div style="padding-left:${emailPadding};"><img src="https://i.imgur.com/Lq3De8u.png" width="13" height="10" style="vertical-align:middle; margin-right:5px;" alt="Email" /><a href="mailto:${email}" style="color:#b29649; text-decoration:none;">${email}</a></div>
                              <div style="padding-left:${websitePadding};"><img src="https://i.imgur.com/FSfP548.png" width="11" height="11" style="vertical-align:middle; margin-right:5px;" alt="Website" /><a href="https://www.saddlerocklegal.com/" target="_blank" style="color:#b29649; text-decoration:none;">www.saddlerocklegal.com</a></div>
                            </td>
                          </tr>
                        </table>
                      </td>
                    </tr>
                  </table>
                </td>
              </tr>
              <tr>
                <td style="font-family:Arial, sans-serif; font-size:7.5pt; line-height:1.2; color:#666666; padding-top:5px;">
                  This message is intended only for the use of the Addressee and may contain information that is PRIVILEGED and CONFIDENTIAL. If you are not the intended recipient, you are hereby notified that any dissemination of this communication is strictly prohibited. If you have received this email in error, please erase all copies of the message and its attachments and notify us immediately. Your receipt of this email in no way creates an attorney-client privilege as such will be done by formal written agreement between you and Saddle Rock Legal Group LLC., or referring co-counsel, if applicable.
                </td>
              </tr>
            </table>
            `;

            document.getElementById('signature-output').innerHTML = signatureTemplate;
        }

        function copySignature() {
            const signatureOutput = document.getElementById('signature-output');
            
            // Create a temporary element to hold the signature content
            const tempElement = document.createElement('div');
            tempElement.innerHTML = signatureOutput.innerHTML;
            
            // Remove the "Email Signature" hidden text
            const hiddenText = tempElement.querySelector('div[style*="display:none"]');
            if (hiddenText) hiddenText.remove();
            
            // Get only the main signature table
            const signatureTable = tempElement.querySelector('.signature-table');
            
            // Create a new temporary element with just the signature table
            const finalElement = document.createElement('div');
            if (signatureTable) {
                // Remove background color from all elements within the table
                signatureTable.style.backgroundColor = 'transparent';
                signatureTable.querySelectorAll('*').forEach(el => {
                    el.style.backgroundColor = 'transparent';
                });
                finalElement.appendChild(signatureTable.cloneNode(true));
            }
            
            // Temporarily append the finalElement to the body
            document.body.appendChild(finalElement);
            
            // Copy the content to the clipboard
            const range = document.createRange();
            range.selectNode(finalElement);
            window.getSelection().removeAllRanges();
            window.getSelection().addRange(range);
            document.execCommand('copy');
            window.getSelection().removeAllRanges();
            
            // Remove the temporary element from the body
            document.body.removeChild(finalElement);
            
            alert('Signature copied to clipboard!');
        }
    </script>
</body>
</html>